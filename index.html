<!DOCTYPE html>
<html ng-app="brauhaus">
<head>
  <meta charset="utf-8">
  <title>Web Beer Recipe Editor</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular.min.js"></script>
  <script src="https://rawgit.com/homebrewing/brauhausjs/master/dist/brauhaus.min.js"></script>
  <script src="https://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.3.2.js"></script>
  <script src="app.js"></script>
</head>
<body ng-controller="BrauhausController">

<div class="container">

  <div class="text-right">
    <button class="btn btn-sm btn-danger" ng-click="clear()">Effacer</button>
  </div>

  <div class="form-group">
    <input placeholder="Titre" ng-model="data.name" class="form-control input-lg" />
  </div>

  <div class="row">
    <div class="col-xs-6">
      <label>Volume final</label>
      <div class="form-group">
        <div class="input-group">
          <input type="number" ng-model="data.batchSize" class="form-control" />
          <span class="input-group-addon">L</span>
        </div>
      </div>
    </div>
    <div class="col-xs-6">
      <label>Volume ébu</label>
      <div class="form-group">
        <div class="input-group">
          <input type="number" ng-model="recipe.boilSize" class="form-control"
                 disabled/>
          <span class="input-group-addon">L</span>
        </div>
      </div>
    </div>
    <div class="col-xs-6">
      <label>DI</label>
      <div class="form-group">
        <div class="input-group">
          <span ng-bind="recipe.og.toFixed(3)"
                class="form-control" disabled></span>
          <span class="input-group-addon">SG</span>
        </div>
      </div>
    </div>
    <div class="col-xs-6">
      <label>DF</label>
      <div class="form-group">
        <div class="input-group">
          <span ng-bind="recipe.og.toFixed(3)"
                class="form-control" disabled></span>
          <span class="input-group-addon">SG</span>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12">
      <div class="btn-group" uib-dropdown>
        <button class="btn btn-warning" uib-dropdown-toggle>
          Malt <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" uib-dropdown-menu>
          <li role="menuitem"><a href="#" ng-click="data.fermentables.push({
              name: 'Extra pale extract',
              weight: 4.0,
              color: 2.5,
              yield: 75.0
          });">Pilsner</a></li>
        </ul>
      </div>
      <div class="btn-group" uib-dropdown>
        <button class="btn btn-success" uib-dropdown-toggle>
          Houblon <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" uib-dropdown-menu>
          <li role="menuitem"><a href="#" ng-click="data.spices.push({
              name: 'Cascade hops',
              weight: 0.1,
              time: 60,
              aa: 4.5,
              form: 'pellet'
          });">Cascade</a></li>
        </ul>
      </div>
    </div>
  </div>
  
  <table class="table" ng-show="data.fermentables.length + data.spices.length > 0">
    <thead>
      <th>Nom</th>
      <th>Poids</th>
    </thead>
    <tbody>
      <tr ng-repeat="f in data.fermentables">
        <td>{{ f.name }}</td>
        <td>{{ f.weight }}</td>
      </tr>
      <tr ng-repeat="s in data.spices">
        <td>{{ s.name }}</td>
        <td>{{ s.weight }}</td>
      </tr>
    </tbody>
  </table>

  <pre>{{ recipe | bhDisplay }}</pre>
  <pre>{{ recipe }}</pre>

  <h2>Paramètres</h2>

  <label>Taux d'évaporation</label>
  <div class="form-group">
    <div class="input-group">
      <span ng-bind="parameters.boil_rate" class="form-control"></span>
      <span class="input-group-addon">%/h</span>
    </div>
  </div>

</div>

</body>
</html>
